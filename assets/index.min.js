const t=""+new URL("out_0-D2vLlJIx.png",import.meta.url).href,i=[{n:"Level_0",w:64,t:32,i:"AAARAAYcBiALJA8oEywZMB80IzgyTAlUGlQAYCtgP2w8cDl0NngCABAABxwKIA4kEigYLB4wITQmOC48N0wNVB9UI2wmcCl0K3gBAJkAByAIIAkgDCQNJBAoESgULBUsFiwXLBowGzAcMB0wIDQkOCU4JzwoPCk8KjwrPCw8LTw2QDdAOEAzTDRMNUw2TApUC1QMVBtUHFQdVB5UMFQxVDJUNlQ3VDhUOVQ6VDtUPFQBYAJgA2AEYAVgBmAHYAhgCWAKYAtgDGANYA5gD2AQYBFgEmATYBRgFWAWYBdgGGAZYBpgG2AcYB1gHmAfYCBgIWAiYCxgLWAuYC9gMGAxYDJgM2A0YDVgNmA3YDhgOWA6YDtgPGA9YD5gP2AibCRwJXA9cD5wH3QgdCF0J3QodDp0O3QqeDd4OHgdfB58H3wgfCF8InwjfCR8JXwmfCd8KHwpfCp8K3wsfC18LnwvfDB8MXwyfDN8NHw1fDZ8N3w4fDl8Onw7fDx8PXw+fD98AgQSADJQN1ANWB9YDVwfXBRkHWQUaB1oFGwcbB1sFHAccBx0HXQdeAAECAAJWBpYCVwaXABkAGgAbABwE0wBAAJcEkwBABBc"}];function s(t){function i(t){function i(t){return[4*(t%1024),4*Math.floor(t/1024)]}let s=[],e=function(t){const i=atob(t),s=i.length,e=new Uint8Array(s);for(let n=0;n<s;n++)e[n]=i.charCodeAt(n);return new Uint16Array(e.buffer)}(t);for(let n=0;n<e.length;){let t=e[n];n++;let h=e[n];n++;let r=[...e.slice(n,n+h)];n+=h,s.push(...r.map((s=>({src:i(t),px:i(s)}))))}return s}return t.map((t=>{let{n:s,w:e,t:n,i:h}=t;return{name:s,w:e,t:n,i:i(h)}}))}const e=new class{image;info;h;o;async load(){var e;this.image=await(e=t,new Promise((t=>{let i=new Image;i.onload=()=>t(i),i.src=e}))),this.info="bullet\n\n0*0*idle\n\n0*80*216\n\n\ncrash\n\n0*2*idle\n\n0*88*216\n0*96*216\n0*104*216\n\n\ncrawler\n\n0*1*idle\n\n0*112*216\n0*120*216\n\n\nfx_djump\n\n0*1*idle\n\n0*128*216\n0*136*216\n\n\nfx_flash\n\n0*1*idle\n\n0*80*186\n0*88*186\n\n\nloading\n\n0*1*audio\n2*4*input\n\n4*0*80\n4*0*110\n4*0*140\n4*0*170\n4*0*200\n\n\nmain_char\n\n0*1*idle\n2*3*run\n4*6*jump\n\n0*96*186\n0*104*186\n0*112*186\n0*120*186\n0*128*186\n0*136*186\n0*80*140\n\n\nnpc\n\n0*0*idle\n\n3*80*200\n\n\ntest\n\n0*2*idle\n3*4*attack\n\n1*128*200\n1*80*170\n1*96*170\n1*112*170\n1*128*170\n\n\ntiles\n\n0*0*idle\n\n2*0*0".split(/\r?\n\r?\n\r?\n/).map((t=>{let[i,s,e]=t.split(/\r?\n\r?\n/);return{name:i,tags:s.split(/\r?\n/).map((t=>{let[i,s,e]=t.split("*");return{from:parseInt(i),to:parseInt(s),name:e}})),l:e.split(/\r?\n/).map((t=>{let[i,s,e,n,h,r,a,o]=function(t){let[i,s,e]=t,n=0,h=0,[r,a]=0===i?[8,8]:1===i?[16,16]:2===i?[80,80]:4===i?[80,30]:[0,0],[o,l]=[r,a];return[n,h,r,a,s,e,o,l]}(t.split("*").map((t=>parseInt(t))));return{fx:i,fy:s,u:e,_:n,A:h,p:r,m:a,M:o}}))}})),this.o=this.info.find((t=>"tiles"===t.name)).l[0],console.log(this.info),this.h=s(i)}};class n{constructor(t,i){this.canvas=t,this.v=i}get width(){return this.canvas.width}get height(){return this.canvas.height}clear(){let{v:t}=this;t.clearRect(0,0,this.width,this.height)}fr(t,i,s,e,n){let{v:h}=this;h.fillStyle=n,h.fillRect(t,i,s,e)}B(t,i){let{v:s}=this;s.save(),s.translate(Math.floor(t),Math.floor(i))}pop(){let{v:t}=this;t.restore()}D(t,i,s,e=1,n=1){let{fx:h,fy:r,A:a,p:o,m:l,M:u}=t.C,{k:f,Y:c}=t,d=i-h-f,_=s-r-c;this.I(d,_,a,o,l,u,e,n)}U(t,i,s){let{fx:n,fy:h,A:r,p:a}=e.o,o=i-n,l=s-h,u=t%20*4,f=4*Math.floor(t/20);this.I(o,l,r+u,a+f,4,4)}I(t,i,s,n,h,r,a=1,o=1){let{v:l}=this,{image:u}=e;l.save();let f=h,c=r,d=f*Math.abs(a),_=c*Math.abs(o);l.scale(Number(a.toFixed(2)),Number(o.toFixed(2))),a<0&&(t*=-1,t-=d),o<0&&(i*=-1,i-=_),l.drawImage(u,s,n,f,c,Math.round(t),Math.round(i),Math.round(d),Math.round(_)),l.restore()}}const h={N:16};class r{J;L(t){return this.J=t,this}parent;F;H;V;G;P(t,i){this.G.push([t,i])}constructor(){this.V=[],this.H=[],this.G=[]}j(t){return this.H.filter((i=>i instanceof t))}O(t){return this.H.find((i=>i instanceof t))}W(t,i){let s=(new t).L(i).init();return s.parent=this,s}R(t,i={}){let s=this.W(t,i);return this.H.push(s),s}T(t,i={},s=7){let e=this.W(t,i);return this.H.push(e),this.V.push([e,s]),e}remove(t){if(!t)return void this.parent?.remove(this);let i=this.H.indexOf(t);if(-1===i)throw"noscene rm";this.H.splice(i,1),i=this.V.findIndex((([i])=>i===t)),-1!==i&&this.V.splice(i,1)}init(){return this.F=0,this.X(),this}update(){0===this.F&&this.K(),this.H.forEach((t=>t.update())),this.F+=h.N,this.G=this.G.map((([t,i])=>(t-h.N<0&&i(),[t-h.N,i]))).filter((t=>t[0]>0)),this.V.slice(0).forEach((([t,i])=>{let s=this.V.filter((i=>i[0].constructor.name===t.constructor.name));if(s.length>i){let t=s[0][0];this.remove(t)}})),this.q(),this.S()}draw(t){this.Z(t),this.H.forEach((i=>i.draw(t))),this.$(t)}X(){}K(){}q(){}S(){}$(t){}Z(t){}}class a extends r{get data(){return this.J}get info(){let t=e.info.find((t=>t.name===this.tt));if(!t)throw`nosprite ${this.tt}`;return t}get duration(){return this.data.duration??400}get tag(){let t=this.info.tags.find((t=>t.name===this.it));if(!t)throw`notag ${this.tt} ${this.it}`;return t}get tt(){return this.data.name}get it(){return this.data.tag||"idle"}x=0;y=0;st=1;et=1;nt(t,i){this.x=t,this.y=i}_current_frame=0;get C(){let{from:t}=this.tag;return this.info.l[this._current_frame+t]}get ht(){return this.data.ht??"c"}get k(){if("tl"===this.ht)return 0;let{u:t}=this.C;return"c"===this.ht||"bc"===this.ht?t/2:0}get Y(){if("tl"===this.ht)return 0;let{_:t}=this.C;return"c"===this.ht?t/2:"bc"===this.ht?t:0}rt(t){this.data.tag!==t&&(this.data.tag=t,this._current_frame=0,this.ot=0)}ot=0;q(){let{from:t,to:i}=this.tag,{duration:s}=this,e=s/(i-t+1),n=i-t;this.ot+=1e3*h.N,this.ot>=e&&(this.ot-=e,this._current_frame===n?this._current_frame=0:this._current_frame+=1)}$(t){let{x:i,y:s,st:e,et:n}=this;t.D(this,i,s,e,n)}}const o=function(){let t=new Set;return document.addEventListener("keydown",(i=>{return s=i.key,void t.add(s);var s})),document.addEventListener("keyup",(i=>{return s=i.key,void t.delete(s);var s})),i=>[...t].includes(i)}();var l=function(){var t,i,s,e,n,h=function(t){return Math.sin(6.283184*t)},r=function(t){return.003959503758*2**((t-128)/12)},a=function(t,i,s){var e,n,h,a,l,u,f=o[t.lt[0]],c=t.lt[1],d=t.lt[3]/32,_=o[t.lt[4]],g=t.lt[5],w=t.lt[8]/32,A=t.lt[9],p=t.lt[10]*t.lt[10]*4,m=t.lt[11]*t.lt[11]*4,x=t.lt[12]*t.lt[12]*4,M=1/x,v=-t.lt[13]/16,y=t.lt[14],B=s*2**(2-t.lt[15]),D=new Int32Array(p+m+x),C=0,k=0;for(e=0,n=0;e<p+m+x;e++,n++)n>=0&&(n-=B,l=r(i+(15&(y=y>>8|(255&y)<<4))+t.lt[2]-128),u=r(i+(15&y)+t.lt[6]-128)*(1+8e-4*t.lt[7])),h=1,e<p?h=e/p:e>=p+m&&(h=(1-(h=(e-p-m)*M))*3**(v*h)),a=f(C+=l*h**d)*c,a+=_(k+=u*h**w)*g,A&&(a+=(2*Math.random()-1)*A),D[e]=80*a*h|0;return D},o=[h,function(t){return t%1<.5?1:-1},function(t){return t%1*2-1},function(t){var i=t%1*4;return i<2?i-1:3-i}];this.init=function(h){t=h,i=h.ut,s=0,e=h.ft*h.ct*(i+1)*2,n=new Int32Array(e)},this.dt=function(){var r,l,u,f,c,d,_,g,w,A,p,m,x,M,v=new Int32Array(e),y=t._t[s],B=t.ft,D=t.ct,C=0,k=0,Y=!1,b=[];for(u=0;u<=i;++u)for(_=y.gt[u],f=0;f<D;++f){var Q=_?y.c[_-1].f[f]:0;Q&&(y.lt[Q-1]=y.c[_-1].f[f+D]||0,Q<17&&(b=[]));var I=o[y.lt[16]],U=y.lt[17]/512,N=2**(y.lt[18]-9)/B,J=y.lt[19],L=y.lt[20],F=43.23529*y.lt[21]*3.141592/44100,H=1-y.lt[22]/255,V=1e-5*y.lt[23],G=y.lt[24]/32,P=y.lt[25]/512,j=6.283184*2**(y.lt[26]-9)/B,E=y.lt[27]/255,O=y.lt[28]*B&-2;for(p=(u*D+f)*B,c=0;c<4;++c)if(d=_?y.c[_-1].n[f+c*D]:0){b[d]||(b[d]=a(y,d,B));var W=b[d];for(l=0,r=2*p;l<W.length;l++,r+=2)v[r]+=W[l]}for(l=0;l<B;l++)(A=v[g=2*(p+l)])||Y?(m=F,J&&(m*=I(N*g)*U+.5),k+=(m=1.5*Math.sin(m))*(x=H*(A-k)-(C+=m*k)),A=3==L?k:1==L?x:C,V&&(A=(A*=V)<1?A>-1?h(.25*A):-1:1,A/=V),Y=(A*=G)*A>1e-5,M=A*(1-(w=Math.sin(j*g)*P+.5)),A*=w):M=0,g>=O&&(M+=v[g-O+1]*E,A+=v[g-O]*E),v[g]=0|M,v[g+1]=0|A,n[g]+=0|M,n[g+1]+=0|A}return++s/t.wt},this.At=function(t){for(var i=t.createBuffer(2,e/2,44100),s=0;s<2;s++)for(var h=i.getChannelData(s),r=s;r<e;r+=2)h[r>>1]=n[r]/65536;return i}};const u={_t:[{lt:[0,91,128,0,0,95,128,12,0,0,12,0,72,0,0,0,0,0,0,0,2,255,0,0,32,83,3,130,4],gt:[1,2,1,2,,,,,,1,2,1,2,,,2,1,,,1,2,1,2],c:[{n:[135,,,,,,,,139,,,,142,,,,147,,,,,,,,139],f:[]},{n:[142,,,,,,,,147,,,,139,,,,135,,,,,,,,135],f:[]}]},{lt:[2,61,128,0,3,91,128,0,0,0,5,6,58,0,0,0,0,195,6,1,3,135,0,0,32,147,6,121,6],gt:[1,2,1,2,1,2,1,2,1,1,2,2,1,4,3,3,4,3,4,1,2,1,2],c:[{n:[,,,,135,,,,,,,,135,,,,,,,,147,,,,,,,,135,,,,,,,,139,,,,,,,,151,,,,,,,,139,,,,,,,,139,,,,,,,,154,,,,,,,,142,,,,,,,,142,,,,,,,,142],f:[]},{n:[,,,,147,,,,,,,,135,,,,,,,,135,,,,,,,,135,,,,,,,,139,,,,,,,,139,,,,,,,,151,,,,,,,,139,,,,,,,,142,,,,,,,,154,,,,,,,,142,,,,,,,,142],f:[]},{n:[144,,,,,,,,144,,,,,,,,144,,,,,,,,144,,,,,,,,139,,,,,,,,139,,,,,,,,139,,,,,,,,139,,,,,,,,135,,,,,,,,135,,,,,,,,135,,,,,,,,135],f:[]},{n:[144,,,,,,,,144,,,,,,,,156,,,,,,,,144,,,,,,,,139,,,,,,,,151,,,,,,,,139,,,,,,,,139,,,,,,,,147,,,,,,,,135,,,,,,,,135,,,,,,,,135],f:[]}]},{lt:[1,104,128,0,0,99,116,9,0,28,17,15,25,135,106,0,0,186,3,1,1,23,167,0,32,77,6,13,1],gt:[,,1,2,1,1,2,2,,1,2,,,3,4,3,3,4,4,4,1,2],c:[{n:[135,,139,,154,,147,,135,,139,,154,,151,,139,,142,,151,,,,139,,142,,154],f:[]},{n:[139,,142,,154,,,,139,,142,,154,,,,154,,151,,147,,,,154,,151,,147],f:[]},{n:[144,,139,,144,,151,,135,,139,147,147,,,,135,,139,147,147,,,,135,,139,156,156],f:[]},{n:[151,,139,,151,,139,,156,,144,151,151,,,,151,,144,151,147,,,,147,,139,147,135],f:[]}]}],ft:7350,ct:32,ut:22,wt:3},f=function(){let t=new AudioContext,i=t.createGain();i.connect(t.destination);const s={},e=[{name:"song",data:u}];return{dt:()=>(e.forEach((i=>{let e=new l;e.init(i.data),function n(){if(1===e.dt()){let n=e.At(t);((t,i)=>{s[t]=i})(i.name,n)}else setTimeout(n,0)}()})),new Promise((t=>{!function i(){Object.keys(s).length!==e.length?setTimeout(i,100):t()}()}))),play:(e,n=!1)=>{const h=s[e];if(!h)return;let r=t.createBufferSource(),a=t.createGain();return r.buffer=h,r.connect(a),a.connect(i),r.loop=n,a.gain.value=.8,r.start(),()=>{r.stop()}}}}();function c(t,i,s){return t<i?Math.min(t+s,i):t>i?Math.max(t-s,i):t}function d(t){let i;const s=e=>{i=new e,i.L({g:t,go:s}),i.init()};s(g),function(t){let i;const s=e=>{h.N=Math.min(20,Math.max(16,i?e-i:16))/1e3,i=e,t(),requestAnimationFrame(s)};requestAnimationFrame(s)}((()=>{i.update(),t.clear(),t.fr(0,0,64,64,"#1a001a"),t.fr(1,1,62,62,"#1f0f1f"),i.draw(t)}))}class _ extends r{xt=!1;Mt;get data(){return this.J}get g(){return this.data.g}go(t){this.data.go(t)}update(){o("m")?this.xt||(this.xt=!0,this.Mt?(this.Mt(),this.Mt=void 0):this.Mt=f.play("song",!0)):this.xt=!1,super.update()}}class g extends _{X(){e.load().then((()=>{let t=this.R(a,{name:"loading",tag:"audio",duration:1e3});t.x=32,t.y=32,f.dt().then((()=>{this.go(w)}))}))}}class w extends _{X(){this.R(D)}}class A extends r{get vt(){return{x:this.x,y:this.y,w:this.w/2,t:this.t/2}}D;yt=1;w=4;t=4;grid;dx=0;dy=0;x=0;y=0;Bt=0;Dt=0;Ct=this.kt;Yt;bt;get Qt(){return Math.sign(this.dx)}get It(){return this.Bt<0}get kt(){return this.Bt>0}get Ut(){return this.Dt<0}get Nt(){return this.Dt>0}draw(t){t.B(Math.floor(this.x),Math.floor(this.y)),super.draw(t),t.pop()}update(){super.update(),this.Ct=this.kt}}class p extends A{yt=0;get data(){return this.J}get duration(){return this.data.duration??1}X(){this.D=this.R(a,{name:this.data.name})}q(){this.F>this.duration&&this.remove()}}class m extends p{yt=.3;X(){this.D=this.R(a,{name:"crash"})}}class x extends A{}class M extends x{w=8;t=8;X(){this.D=this.R(a,{name:"crawler"}),this.dx=1.2}q(){0!==this.Dt&&(this.dx=-this.Dt),this.D.st=this.Qt}}class v extends A{w=8;t=8;Jt=0;Lt=0;Ft=2;Ht=0;Vt;Gt=!1;Pt=!1;X(){this.D=this.R(a,{name:"main_char"})}q(){if(this.Jt>0)return void(this.Jt=c(this.Jt,0,h.N));let t=o("x"),i=o("ArrowLeft")||o("a"),s=o("ArrowRight")||o("d"),e=o("ArrowUp")||o("w");if(this.Gt=i,this.Pt=s,this.dx=i?-8:s?8:0,e?void 0!==this.Ht&&(this.Ht+=h.N):void 0===this.Ht?this.Ht=0:this.Ht>0&&(this.Ht=-.3),void 0!==this.Ht&&this.Ht<0&&(this.Ht+=h.N,this.Ht>=0&&(this.Ht=void 0)),void 0!==this.Ht&&this.Ht>0)if(void 0!==this.Vt)this.dy=-40,this.Ht=void 0,this.Ft=1;else if(this.Ft>0){this.dy=-40,this.Ht=void 0,this.Ft=0;let t=this.parent.R(p,{name:"fx_djump",duration:.4});t.x=this.x,t.y=this.y+5}if(this.kt?this.Vt=0:this.Ct&&(this.Vt=.16),void 0!==this.Vt&&this.Vt>0&&(this.Vt=c(this.Vt,0,h.N),0===this.Vt&&(this.Vt=void 0)),this.kt?0!==this.dx?(this.D.rt("run"),this.D.st=this.Qt):this.D.rt("idle"):(this.D.rt("jump"),0!==this.Qt&&(this.D.st=this.Qt)),t&&0===this.Lt){let t=this.parent.T(B,{dx:this.dx,dy:10});t.x=this.x,t.y=this.y,this.Lt=.2}this.Lt=c(this.Lt,0,h.N)}S(){}}class y extends r{w=4;t=4;x;y;dx;dy;q(){this.dy=Math.sin(8*this.F)*Math.sin(16*this.F)*20,this.F>1.5&&this.remove()}draw(t){t.B(Math.floor(this.x),Math.floor(this.y)),super.draw(t),t.pop()}}class B extends y{get data(){return this.J}X(){this.dx=2*this.data.dx,this.dy=this.data.dy,this.R(a,{name:"bullet"})}}class D extends r{o;jt=0;Et=0;Ot=this.jt;Wt=this.Et;get Rt(){return 4*this.o[0].length}Tt(t,i,s){return!!this.Xt(t,i,s)}Xt(t,i,s){let{x:e,y:n,w:h,t:r}=t;return this.zt(e-h/2+i,n-r/2+s,h,r)}zt(t,i,s=1,e=1){let n=this.o[0].length,h=this.o.length,r=t/4,a=i/4,o=(t+s-1)/4,l=(i+e-1)/4;if(r<0||o>=n||a<0||l>=h)return!0;for(t=r;t<=o;t++)for(i=a;i<=l;i++)if(t=Math.floor(t),i=Math.floor(i),k(this.o[i][t]))return[4*t,4*i]}X(){let t=e.h[0];this.o=[];for(let i=0;i<t.t;i++)this.o[i]=Array(t.w);for(let i=0;i<t.i.length;i++){let{px:s,src:e}=t.i[i],n=s[0]/4,h=s[1]/4,r=e[1]/4*20+e[0]/4;if(399===r){let t=this.R(v);t.x=s[0],t.y=s[1]}else if(398===r){let t=this.R(M);t.x=s[0],t.y=s[1]}else this.o[h][n]=r}}q(){let t=this.O(v);if(0===t.Jt){this.H.filter((t=>t instanceof x)).forEach((i=>{var s,e;s=i.vt,e=t.vt,s.x<e.x+e.w&&s.x+s.w>e.x&&s.y<e.y+e.t&&s.y+s.t>e.y&&(t.R(p,{name:"fx_flash"}),t.Jt=1,t.dy=-32,0===t.dx?t.dx=6.4:t.dx=8*-Math.sign(t.dx)*.8)}))}if(void 0===t.Yt){let i=this.Tt(t,0,2),s=this.Xt(t,1,0),e=this.Xt(t,-1,0);i||(t.Pt&&Array.isArray(s)?(t.Yt=.2,t.x=s[0],t.y=s[1]):t.Gt&&Array.isArray(e)&&(t.Yt=-.2,t.x=e[0]+4,t.y=e[1]))}if(!t.Yt&&void 0===t.bt){let i=this.Xt(t,1,-4)?void 0:this.Xt(t,1,0),s=this.Xt(t,-1,-4)?void 0:this.Xt(t,-1,0);t.Pt&&Array.isArray(i)?(t.bt=.16,t.x=i[0],t.y=i[1]-1):t.Gt&&Array.isArray(s)&&(t.bt=-.16,t.x=s[0]+4,t.y=s[1]-1)}this.H.filter((t=>t instanceof A)).forEach((t=>{let i=this.Xt(t,0,0);if(void 0!==t.Yt)return t.Yt=c(t.Yt,0,h.N),void(0===t.Yt&&(t.Yt=void 0,t.y=i[1]-4,t.dy=0));if(void 0!==t.bt)return t.bt=c(t.bt,0,h.N),void(0===t.bt&&(t.bt=void 0,t.y=i[1]-4,t.dy=0));let s=4*t.yt,e=0;{let i=Math.abs(t.dy),n=Math.sign(t.dy);for(let r=0;r<i;r+=1){let a=.5*n*Math.sqrt(h.N);if(this.Tt(t,0,a)){t.Bt=n,t.dy/=2,e=0;break}t.Bt=0,t.y+=a,e=1-n*(r/i);{let i=.8*s*Math.sqrt(e),n=1;t.dy+=n*i*h.N}}}{let i=3*s,e=1;for(let s=0;s<i;s+=1){let i=.5*e*Math.sqrt(h.N);if(this.Tt(t,0,i)){t.Bt=e,t.dy=0;break}t.Bt=0,t.y+=i}}{let i=Math.abs(t.dx),s=Math.sign(t.dx),e=1;for(let n=0;n<i;n+=1){let i=.5*s*Math.sqrt(h.N)*e;if(this.Tt(t,i,0)){t.Dt=s,t.dx=0;break}t.Dt=0,t.x+=i}}})),t&&(this.Ot<t.x-4-10&&(this.Ot=t.x-4-10),this.Ot>t.x+4+10&&(this.Ot=t.x+4+10),this.Wt<t.y-20&&(this.Wt=t.y-20),this.Wt>t.y+20&&(this.Wt=t.y+20)),this.jt=c(this.jt,this.Ot-32,40*h.N),this.Et=this.Wt-32,this.jt=Math.min(Math.max(0,this.jt),this.Rt),this.H.filter((t=>t instanceof y)).forEach((t=>{{let i=Math.abs(t.dy),s=Math.sign(t.dy);for(let e=0;e<i;e+=1){let i=.5*s*Math.sqrt(h.N);if(this.Tt(t,0,i)){t.dy/=2;break}t.y+=i;{let i=1,s=1;t.dy+=s*i*h.N}}}{let i=Math.abs(t.dx),s=Math.sign(t.dx),e=1;for(let n=0;n<i;n+=1){let i=.5*s*Math.sqrt(h.N)*e;if(this.Tt(t,i,0)){t.dx=0;let i=this.T(m);i.x=t.x-2*s,i.y=t.y,i.D.st=s,this.remove(t);break}t.x+=i}}}))}Z(t){t.B(-this.jt,-this.Et);for(let i=0;i<this.o.length;i++){let s=this.o[i];for(let e=0;e<s.length;e++){let n=s[e];t.U(n,4*e,4*i)}}}$(t){t.pop()}}const C=[0,1,2,20,21,22,40,41,42],k=t=>C.includes(t);!function(t){let i=function(t,i,s=!0){let e=document.createElement("canvas");s&&e.classList.add("pixelated");let h=e.getContext("2d");const r=()=>{e.width=t,e.height=i,h.imageSmoothingEnabled=s};return document.addEventListener("scroll",r,{capture:!0,passive:!0}),window.addEventListener("resize",r,{passive:!0}),r(),new n(e,h)}(64,64,!0);t.appendChild(i.canvas),d(i)}(document.getElementById("app"));
